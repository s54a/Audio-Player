<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="https://www.svgrepo.com/show/268463/music-player-music.svg"
      type="image/x-icon"
    />
    <title>Player</title>
    <script type="module" crossorigin>(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const d=document.getElementById("urlInput"),e=document.getElementById("audioPlayer"),v=document.getElementById("errorMessage"),L=document.getElementById("folder-input"),f=document.getElementById("songList");let a=[];const g=1e3,l=50;let u=null;const p=localStorage.getItem("songs");p&&(a=JSON.parse(p),m(a));function y(t){const r=g/l,o=e.volume/r,i=()=>{e.volume>o?(e.volume-=o,u=setTimeout(i,l)):(e.volume=0,t&&t())};i()}function h(){const o=1/(g/l),i=()=>{e.volume<1-o?(e.volume+=o,u=setTimeout(i,l)):e.volume=1};i()}async function E(t){u&&clearTimeout(u),e.paused||await new Promise(r=>{y(()=>{e.pause(),r()})}),e.volume=0,e.src=t,e.loop=!0,e.addEventListener("loadedmetadata",()=>{e.currentTime=0,e.play().then(()=>{h()}).catch(r=>{v.textContent=`Error playing audio: ${r.message}`})})}function I(t){a=Array.from(t.target.files).filter(o=>o.type.includes("audio")).map(o=>({name:o.name,path:URL.createObjectURL(o),fullPath:o.webkitRelativePath})),localStorage.setItem("songs",JSON.stringify(a)),m(a)}function m(t){f.innerHTML="",t.forEach(r=>{const o=document.createElement("div");o.className="song-item",o.textContent=r.name,o.addEventListener("click",()=>E(r.path)),f.appendChild(o)})}d.addEventListener("input",t=>{const r=t.target.value.toLowerCase(),o=a.filter(i=>i.name.toLowerCase().includes(r));m(o)});L.addEventListener("change",I);document.addEventListener("keydown",t=>{t.key==="/"?(t.preventDefault(),d.focus()):t.key==="Escape"?d.blur():t.code==="Space"?(t.preventDefault(),e.paused?(e.volume=0,e.play().then(()=>h())):y(()=>e.pause())):t.key==="ArrowUp"?e.volume=Math.min(e.volume+.1,1):t.key==="ArrowDown"?e.volume=Math.max(e.volume-.1,0):t.key==="ArrowRight"?e.currentTime=Math.min(e.currentTime+2.5,e.duration):t.key==="ArrowLeft"&&(e.currentTime=Math.max(e.currentTime-2.5,0))});</script>
    <style rel="stylesheet" crossorigin>:root{--background-color: #f0f0f0;--text-color: #121212;--input-background: #ffffff;--input-border: #ccc;--button-background: #007fff;--button-hover: #198cff;--audio-controls-bg: #ccc;--gradient-light: linear-gradient(to right, #f5af19, #f12711);--gradient-dark: linear-gradient(to right, #070712, #0d0d1a, #020106)}@media (prefers-color-scheme: dark){:root{--background-color: #121212;--text-color: #e0e0e0;--input-background: #1e1e1e;--input-border: #333;--audio-controls-bg: #999}}html::-webkit-scrollbar{width:0}body{font-family:Arial,sans-serif;max-width:600px;margin:0 auto;padding:20px;text-align:center;background:var(--gradient-light)}@media (prefers-color-scheme: dark){body{background:var(--gradient-dark)}}.upload-section{margin-bottom:20px;padding:20px;border:2px dashed var(--input-border);border-radius:10px;background-color:var(--input-background);color:var(--text-color)}#urlInput{width:100%;padding:10px;margin:10px 0 20px;height:54px;box-sizing:border-box;background-color:var(--input-background);border:1px solid var(--input-border);color:var(--text-color);border-radius:10px;outline:none;font-size:1rem}#playButton{padding:10px 20px;background-color:var(--button-background);color:#fff;border:none;cursor:pointer;margin:10px 0;transition:background-color .3s ease;border-radius:10px}#playButton:hover{background-color:var(--button-hover)}#audioPlayer{margin-top:20px;width:100%}#errorMessage{color:#ff6b6b;margin-top:10px;display:none}.song-list{max-height:300px;overflow-y:auto;margin:20px 0;background-color:var(--input-background);border-radius:10px;padding:10px}.song-item{padding:10px;cursor:pointer;color:var(--text-color);border-radius:5px;margin:5px 0;text-align:left;transition:background-color .3s ease,color .3s ease}.song-item:hover{background-color:var(--button-background);color:#fff}h1{color:var(--text-color)}.container{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;padding:20px;box-sizing:border-box;transition:opacity .5s ease,visibility .5s ease;visibility:hidden;opacity:0}.parent-container:hover .container{opacity:1;visibility:visible}</style>
  </head>
  <body>
    <div class="parent-container">
      <div class="container">
        <div class="upload-section">
          <input
            type="file"
            id="folder-input"
            webkitdirectory
            directory
            multiple
          />
          <p>Drop your music folder here or click to select</p>
        </div>
        <input type="text" id="urlInput" placeholder="Search songs..." />
        <div id="songList" class="song-list"></div>
        <div id="errorMessage"></div>
        <audio id="audioPlayer" controls loop></audio>
      </div>
    </div>
  </body>
</html>
